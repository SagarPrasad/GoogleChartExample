<html>
<head> <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
 <script src="lib-con.js"></script>
 <script src="gchart.js"></script>
</head>

  <body>
    <!--Div that will hold the Line chart-->
    <div id="chart_div"></div>
  </body>
 
 
    <script type="text/javascript">
	
   	function formChart(){
  	  		var datas='{  "SSA_GF_OFFERUPDATES_DATA_ERROR": {    "GLOBALSAVINGS": {      "Sat Jul 27 00:00:00 UTC 2013": 44,      "Tue Jul 23 00:00:00 UTC 2013": 25,      "Mon Jul 29 00:00:00 UTC 2013": 61,      "Thu Jul 25 00:00:00 UTC 2013": 30,      "Fri Jul 26 00:00:00 UTC 2013": 15,      "Wed Jul 24 00:00:00 UTC 2013": 26,      "Tue Jul 30 00:00:00 UTC 2013": 59,      "Mon Jul 22 00:00:00 UTC 2013": 27,      "Sun Jul 28 00:00:00 UTC 2013": 74,      "Fri Jul 19 00:00:00 UTC 2013": 27,      "Mon Jul 15 00:00:00 UTC 2013": 11,      "Wed Jul 17 00:00:00 UTC 2013": 10,      "Tue Jul 09 00:00:00 UTC 2013": 8,      "Thu Jul 11 00:00:00 UTC 2013": 9,      "Tue Jul 16 00:00:00 UTC 2013": 18,      "Sun Jul 21 00:00:00 UTC 2013": 29,      "Thu Jul 18 00:00:00 UTC 2013": 16,      "Fri Jul 12 00:00:00 UTC 2013": 8,      "Sat Jul 13 00:00:00 UTC 2013": 12,      "Sun Jul 14 00:00:00 UTC 2013": 13,      "Sat Jul 20 00:00:00 UTC 2013": 30    },    "ADDCOUNT": {      "Sat Jul 27 00:00:00 UTC 2013": 48,      "Thu Jul 25 00:00:00 UTC 2013": 38,      "Wed Jul 31 00:00:00 UTC 2013": 4,      "Wed Jul 24 00:00:00 UTC 2013": 45,      "Fri Jul 26 00:00:00 UTC 2013": 23,      "Tue Jul 23 00:00:00 UTC 2013": 34,      "Mon Jul 29 00:00:00 UTC 2013": 95,      "Tue Jul 30 00:00:00 UTC 2013": 170,      "Mon Jul 22 00:00:00 UTC 2013": 46,      "Sun Jul 28 00:00:00 UTC 2013": 150,      "Sat Jul 20 00:00:00 UTC 2013": 50,      "Mon Jul 15 00:00:00 UTC 2013": 15,      "Sat Jul 13 00:00:00 UTC 2013": 9,      "Thu Jul 18 00:00:00 UTC 2013": 25,      "Tue Jul 09 00:00:00 UTC 2013": 1,      "Wed Jul 17 00:00:00 UTC 2013": 12,      "Sun Jul 21 00:00:00 UTC 2013": 69,      "Fri Jul 12 00:00:00 UTC 2013": 10,      "Sun Jul 14 00:00:00 UTC 2013": 28,      "Fri Jul 19 00:00:00 UTC 2013": 39,      "Thu Jul 11 00:00:00 UTC 2013": 12,      "Tue Jul 16 00:00:00 UTC 2013": 26    }  }}';
			  //var dat = JSON.parse('${errorJson}');//JSON.parse(datas);//JSON.parse('${errorJson}');//JSON.parse(JSON.stringify(datas));
					var dat = JSON.parse(datas);
		            for (var i in dat) {
		                var queueName = i;
		                var divTagTitle = document.createElement("div");
	                    divTagTitle.id = "div_"+i;
	                    divTagTitle.innerHTML = queueName;
	                    document.getElementById("chart_div").appendChild(divTagTitle);
		                for(var j in dat[i]){
		                	  var queueName2 = j;
		                	  var map = {"string":"Name","number":"Count"};
		                	  var rowContent = "[";
		                      for(var k in dat[i][j]){
		                    	  rowContent+="['"+k+"',"+dat[i][j][k]+"],";
		                      }
		                      rowContent+="]";
		                      forQueuecharts(rowContent,map,"div"+j+queueName,queueName2,dat[i][j]);
		                }
		            }
  		 }

		 
		 function commonCall(){
			 formChart();
		 }
  		 google.load('visualization', '1.0', {'packages':['corechart']});
  		 google.setOnLoadCallback(commonCall);
    </script>
	
	
	<script type="text/javascript">

		 function getTopAddOffers(){
			 var multidats = '{"topAddOffer":[{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11692","offerTitle":"Mother&#x27;s Day Greeting Cards","addCount":207362,"redeemCount":115138,"globalSavings":57120.65,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11816","offerTitle":"Women&#x27;s Skirts","addCount":155549,"redeemCount":20616,"globalSavings":87689.98,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11061","offerTitle":"Women&#x27;s Shorts","addCount":128208,"redeemCount":20218,"globalSavings":137122.51,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"10904","offerTitle":"Market Pantry Cheese","addCount":104988,"redeemCount":67583,"globalSavings":18045.56,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11795","offerTitle":"Kid&#x27;s Accessories","addCount":99327,"redeemCount":11735,"globalSavings":24730.19,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"12012","offerTitle":"Mossimo Women&#x27;s Tops","addCount":86862,"redeemCount":6446,"globalSavings":13919.23,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"12015","offerTitle":"Mossimo Supply Co. Tees&#x2f;Tanks","addCount":82573,"redeemCount":17626,"globalSavings":28937.37,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"9861","offerTitle":"up &amp; up Baby Diapers","addCount":76651,"redeemCount":35010,"globalSavings":45823.75,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"10990","offerTitle":"Smith &amp; Hawken Home D&eacute;cor","addCount":71826,"redeemCount":2912,"globalSavings":17261.66,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11062","offerTitle":"Women&#x27;s Denim Pants","addCount":69501,"redeemCount":4647,"globalSavings":32854.2,"effd":null}],"timetaken":15}';
			 var html = JSON.parse(multidats);
			 var rowContent = "[";
						for ( var i in html.topAddOffer) {
							rowContent += "['" + html.topAddOffer[i].offerTitle
									+ "'," + html.topAddOffer[i].addCount + ","
									+ html.topAddOffer[i].redeemCount + "],";
						}
						rowContent += "]";
						var map = {
							"string" : "Offer Name",
							"number1" : "Add Count",
							"number2" : "Redeem Count"
						};
						formColumnChart(rowContent, map, "divtopAddedOffers",
								"Top Added Offers" + " [" + html.timetaken +"] ms");
		 }
		 function commonCall(){
			 getTopAddOffers();
		 }
  		 google.load('visualization', '1.0', {'packages':['corechart','table']});
  		 google.setOnLoadCallback(commonCall);
    </script>
	
	
	<script type="text/javascript">

		 function getTopOffers(){
			 var multidats = '{"topAddOffer":[{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11692","offerTitle":"Mother&#x27;s Day Greeting Cards","addCount":207362,"redeemCount":115138,"globalSavings":57120.65,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11816","offerTitle":"Women&#x27;s Skirts","addCount":155549,"redeemCount":20616,"globalSavings":87689.98,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11061","offerTitle":"Women&#x27;s Shorts","addCount":128208,"redeemCount":20218,"globalSavings":137122.51,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"10904","offerTitle":"Market Pantry Cheese","addCount":104988,"redeemCount":67583,"globalSavings":18045.56,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11795","offerTitle":"Kid&#x27;s Accessories","addCount":99327,"redeemCount":11735,"globalSavings":24730.19,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"12012","offerTitle":"Mossimo Women&#x27;s Tops","addCount":86862,"redeemCount":6446,"globalSavings":13919.23,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"12015","offerTitle":"Mossimo Supply Co. Tees&#x2f;Tanks","addCount":82573,"redeemCount":17626,"globalSavings":28937.37,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"9861","offerTitle":"up &amp; up Baby Diapers","addCount":76651,"redeemCount":35010,"globalSavings":45823.75,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"10990","offerTitle":"Smith &amp; Hawken Home D&eacute;cor","addCount":71826,"redeemCount":2912,"globalSavings":17261.66,"effd":null},{"wxsUpdatedTimeStamp":null,"wxsUpdateSource":null,"wxsOperationType":null,"stackTraceElements":null,"id":"11062","offerTitle":"Women&#x27;s Denim Pants","addCount":69501,"redeemCount":4647,"globalSavings":32854.2,"effd":null}],"timetaken":15}';
			 var html = JSON.parse(multidats);
			 var rowContent = "[";
						for ( var i in html.topAddOffer) {
							rowContent += "['" + html.topAddOffer[i].offerTitle
									+ "'," + html.topAddOffer[i].addCount + ","
									+ html.topAddOffer[i].redeemCount + "],";
						}
						rowContent += "]";
						var map = {
							"string" : "Offer Name",
							"number1" : "Addw Count",
							"number2" : "Redeemw Count"
						};
						formMultiLineChart(rowContent, map, "newdive",
								"Top --- Offers" + " [" + html.timetaken +"] ms");
		 }
		 function commonCall(){
			 getTopOffers();
		 }
  		 google.load('visualization', '1.0', {'packages':['corechart','table']});
  		 google.setOnLoadCallback(commonCall);
    </script>
	
	
    </html>